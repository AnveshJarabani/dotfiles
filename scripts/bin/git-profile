#!/bin/bash

# Switch between personal and work git profiles
# Credentials stored securely in pass

case "$1" in
    personal|p)
        git config --global user.name "$(pass git/personal/name)"
        git config --global user.email "$(pass git/personal/email)"
        git config --global user.signingkey "$(pass git/personal/signing-key)"
        git config --global core.sshCommand "ssh -i ~/.ssh/id_rsa"
        echo "✓ Switched to PERSONAL git profile"
        echo "  Name: $(pass git/personal/name)"
        echo "  Email: $(pass git/personal/email)"
        echo "  GPG Key: $(pass git/personal/signing-key)"
        ;;
    
    work|w)
        git config --global user.name "$(pass git/work/name)"
        git config --global user.email "$(pass git/work/email)"
        git config --global user.signingkey "$(pass git/work/signing-key)"
        git config --global core.sshCommand "ssh -i ~/.ssh/git_p"
        echo "✓ Switched to WORK git profile"
        echo "  Name: $(pass git/work/name)"
        echo "  Email: $(pass git/work/email)"
        echo "  GPG Key: $(pass git/work/signing-key)"
        ;;
    
    show|s|*)
        echo "Current git config:"
        echo "  Name: $(git config --global user.name)"
        echo "  Email: $(git config --global user.email)"
        echo "  SSH Key: $(git config --global core.sshCommand)"
        echo ""
        echo "Usage: git-profile [personal|p|work|w|show|s]"
        ;;
esac
